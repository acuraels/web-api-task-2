# üìù TODO API + WebSocket + Background Task

### –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç ‚Ññ2 –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É ¬´–û—Å–Ω–æ–≤—ã Web API¬ª

**–ê–≤—Ç–æ—Ä:** –£—Å—Ç–∏–Ω–æ–≤ –î–∞–Ω–∏–∏–ª –ù–∏–∫–æ–ª–∞–µ–≤–∏—á, –†–ò-330948

---

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **FastAPI**, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ:

- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π **REST API** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á (TODO-list)
- **WebSocket-–∫–∞–Ω–∞–ª** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–§–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É**, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —á–µ—Ä–µ–∑ `httpx` –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –±–∞–∑—É
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –ë–î** —á–µ—Ä–µ–∑ `SQLAlchemy + aiosqlite`

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è backend-—Å–µ—Ä–≤–∏—Å–æ–≤.

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **FastAPI** (backend + OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- **SQLite** (—á–µ—Ä–µ–∑ async SQLAlchemy)
- **httpx** (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã)
- **WebSocket** (—Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
- **Pydantic** (–≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π)
- **Uvicorn** (—Å–µ—Ä–≤–µ—Ä)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
practice_2_todo/
‚îÇ‚îÄ‚îÄ main.py                # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI
‚îÇ‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
python -m venv .venv
source .venv/bin/activate   # Linux / macOS
. .\.venv\Scripts\Activate.ps1  # Windows PowerShell
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

```bash
uvicorn main:app --reload
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

- Swagger UI: **[http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)**
- OpenAPI JSON: **[http://127.0.0.1:8000/openapi.json](http://127.0.0.1:8000/openapi.json)**

---

## üì° –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üîπ REST API (`/tasks`)

- `GET /tasks` ‚Äî —Å–ø–∏—Å–æ–∫
- `GET /tasks/{id}` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É
- `POST /tasks` ‚Äî —Å–æ–∑–¥–∞—Ç—å
- `PATCH /tasks/{id}` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å
- `DELETE /tasks/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å

### üîπ WebSocket

- `/ws/tasks` ‚Äî –∫–∞–Ω–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∑–∞–¥–∞—á

### üîπ Background Task

- `POST /task-generator/run` ‚Äî —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Äî —á–µ—Ä–µ–∑ `asyncio.create_task` / scheduler

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

- Swagger UI (`/docs`)
- Postman / Insomnia
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π WebSocket-–∫–ª–∏–µ–Ω—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- `client.py` –≤ –ø—Ä–æ–µ–∫—Ç–µ

---

## üìò –ü—Ä–∏–º–µ—Ä –º–æ–¥–µ–ª–∏ –∑–∞–¥–∞—á–∏

```json
{
  "id": 1,
  "title": "Buy milk",
  "description": "2 liters",
  "completed": false
}
```

---

## üéØ –¶–µ–ª–∏ —Ä–∞–±–æ—Ç—ã

- –ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å FastAPI –≤ —Å–≤—è–∑–∫–µ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ë–î
- –û—Å–≤–æ–∏—Ç—å –º–æ–¥–µ–ª–∏ Pydantic –∏ REST-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å WebSocket-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é
- –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å httpx
